
[section {Standard API}]

As a derived class of [package [vset PROJECT]] instances of this class
provide the following methods:

[list_begin definitions]
[comment {- - -- --- ----- -------- -------------}]
[call [cmd <instance>] [method id] [arg string]]

This method adds the specified [arg string] to the instance, and
returns its unique numeric identifier as the result of the method.

[para] Multiple calls of this method for the same string all return
the same identifier.

[comment {- - -- --- ----- -------- -------------}]
[call [cmd <instance>] [method str] [arg id]]

This method maps the specified numeric [arg id] back to its string,
and returns that string as the result of the method.

[para] An error is thrown if the [arg id] is not known to the
instance.

[comment {- - -- --- ----- -------- -------------}]
[call [cmd <instance>] [method names]]

This method returns a list of all strings which have been interned
into the instance.

[comment {- - -- --- ----- -------- -------------}]
[call [cmd <instance>] [method exists] [arg string]]

This method tests if the specified [arg string] has been interned into
the instance and returns a boolean flag as the result of the
method.

The result is [const true] if the string is known, and [const false]
otherwise.

[comment {- - -- --- ----- -------- -------------}]
[call [cmd <instance>] [method exists-id] [arg id]]

This method tests if the specified numeric [arg id] is known to the
instance and returns a boolean flag as the result of the method.

The result is [const true] if the id is known, and [const false]
otherwise.

[comment {- - -- --- ----- -------- -------------}]
[call [cmd <instance>] [method size]]

This method returns the number of interned strings known to the
instance.

[comment {- - -- --- ----- -------- -------------}]
[call [cmd <instance>] [method map] [arg string] [arg id]]

This method adds the specified [arg string] to the instance and forces
an association with the specified numeric [arg id].

The result of the method is the empty string.

[para] An error will be thrown however if the [arg id] is already used
for a different string.

[comment {- - -- --- ----- -------- -------------}]
[call [cmd <instance>] [method clear]]

This method drops all string/id mappings from the instance.
After this method has run the instance is empty.
The result of this method is the empty string.

[comment {- - -- --- ----- -------- -------------}]
[call [cmd <instance>] [method serialize]]
[call [cmd <instance>] [method -->]]

This method serializes the content of the instance, i.e. the
string-to-id map and returns it as the result of the method.

[para] The result is a Tcl dictionary with the strings as keys and the
associated identifiers as the values.

[comment {- - -- --- ----- -------- -------------}]
[call [cmd <instance>] [method deserialize] [arg serialization]]
[call [cmd <instance>] [method <--] [arg serialization]]

This method takes a [arg serialization] as generated by method
[method serialize] and adds it to the instance.

It uses the method [method map] for this, to preserve the exact
string/id mapping found in the input. On the flip-side this means that
existing mappings may interfere and cause an error to be thrown.

[para]
If the previous content is not relevant, use method [method load]
instead.
If the exact mapping is not relevant, use method [method merge]
instead.

[para] The result of the method is the empty string.

[comment {- - -- --- ----- -------- -------------}]
[call [cmd <instance>] [method load] [arg serialization]]
[call [cmd <instance>] [method :=] [arg serialization]]

This method takes a [arg serialization] as generated by method
[method serialize] and uses it to replace previous content of the
instance.

[para] The result of the method is the empty string.

[comment {- - -- --- ----- -------- -------------}]
[call [cmd <instance>] [method merge] [arg serialization]]
[call [cmd <instance>] [method +=] [arg serialization]]

This method takes a [arg serialization] as generated by method
[method serialize] and adds the strings it contains to the instance.

The ids found in the [arg serialization] are ignored and do not
transfer.

[para] The result of the method is the empty string.

[list_end]
